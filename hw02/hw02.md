# Homework 2

## Task 1

For each **D-classroom** whose capacity is less than **half** of capacity of the **largest A-classroom** (i.e.
A-classroom with the greatest capacity), display classroom id, capacity, and the number of **different** courses for
which lessons were held in the academic year **2024/2025** (include in the result also the classrooms in which no
lessons were held during that academic year).

Sort the records descending by the number of courses, and those that had the same number of courses sort ascending by
the classroom id.

*Check column mode: 4. PERMISSIVE: try 3 (to match by names); if not - try 2 (use column order).*

[Problem solution](task01.sql)

---

## Task 2

For each organization unit print out its name and the average coefficient of the teachers (name the column
`average_coeff`) who have ever been employed in that organization unit. Print the data out only for those organization
units for which the number of teachers who have ever been employed in them is greater than 4.

*Check column mode: 1. STRICT: both column names and order must match.*

[Problem solution](task02.sql)

---

## Task 3

Print the student id, first, last name, course id and grade for each student and course where a student in the academic
year 2024/2025 for the given course acquired a passing (>1) grade, acquired by **no other** student for the given course
in the same academic year.
The academic year should be calculated based on the **exam.gradeDate** attribute.
Print only those students whose overall grade average **is higher than 3.5**.

***Note:*** The average grade includes passing grades (>1) from all passed courses, not just from a 2024/2025 academic
year.

Result example:

| studentid  | firstname | lastname | courseid | grade |
|------------|-----------|----------|----------|-------|
| 0555000646 | Iva       | Kolar    | 17       | 2     |
| 0555000646 | Iva       | Kolar    | 13       | 3     |
| 0555000651 | Ante      | Car      | 5        | 4     |
| ...        | ...       | ...      | ...      | ...   |

*For the course with id 17, Iva Kolar obtained the grade 2 in the academic year 2024/2025, and no other student obtained
grade 2 for the course with id 17 in the same academic year. Also, her total average is greater than 3.5 (the task does
not require printing the average).*

*Check column mode: 4. PERMISSIVE: try 3 (to match by names); if not - try 2 (use column order).*

[Problem solution](task03.sql)

---

## Task 4

Display course names that have **odd number of characters**, for all courses that were enrolled by at least one student
in the academic year 2022/2023.

*Check column mode: 4. PERMISSIVE: try 3 (to match by names); if not - try 2 (use column order).*

[Problem solution](task04.sql)

---

## Task 5

Display course names that have an **even number of characters**, for all courses that were enrolled by at least one
student in the academic year 2023/2024.

*Check column mode: 4. PERMISSIVE: try 3 (to match by names); if not - try 2 (use column order).*

[Problem solution](task05.sql)

---

## Task 6

For pairs of courses having an equal number of ECTS points but different number of classes weekly, print the course name
and the total number of classes per week. The output should have the following format:

| courseName1           | hoursWeekly1 | courseName2           | hoursWeekly2 |
|-----------------------|--------------|-----------------------|--------------|
| LOGICAL ALGEBRA       | 6            | COMPUTER ARCHITECTURE | 5            |
| LOGICAL ALGEBRA       | 6            | DIGITAL LOGIC         | 5            |
| COMPUTER ARCHITECTURE | 5            | LOGICAL ALGEBRA       | 6            |
| ...                   | ...          | ...                   | ...          |

The columns should be named according to the above template. Names of courses should be printed in capital letters. The
order of the records in the result is not important.

*Check column mode: 1. STRICT: both column names and order must match.*

[Problem solution](task06.sql)

---

## Task 7

Print id, first and last name of all students born in 1996 and 1997. Additionally, for each student print the name of
courses student enrolled in the academic year 2024/2025. If a student is not enrolled in courses in the academic year
2024/2025, print the NULL value as course name.

Result example:

| studentid  | firstname | lastname | coursename                 |
|------------|-----------|----------|----------------------------|
| 0555000011 | Kresimir  | Salopek  | Telecommunication networks |
| 0555000027 | Andrej    | Jurcic   | NULL                       |
| 0555000737 | Marko     | Horvat   | Physics 1                  |
| 0555000737 | Marko     | Horvat   | Databases                  |
| 0555000737 | Marko     | Horvat   | Computer architecture 1    |
| ...        | ...       | ...      | ...                        |

*Check column mode: 4. PERMISSIVE: try 3 (to match by names); if not - try 2 (use column order).*

[Problem solution](task07.sql)

---

## Task 8

For each course and academic year, print out course id, course name, academic year, and the total capacity of the
classroom in which that course was held during that academic year (name the column `total_capacity`). Print out only the
records for those courses that weigh 6 ECTS points and for which the total capacity is greater than 200.

*Check column mode: 1. STRICT: both column names and order must match.*

[Problem solution](task08.sql)

---

## Task 9

Print the studentid, first name, last name and course id for each student and course where a student in the academic
year 2022/2023 for the given course obtained grade 1, and there is at least one other course from which the same student
in the same academic year obtained the same grade.
The academic year should be calculated from the **exam.gradeDate** attribute.
Print only the students whose overall grade average is **greater than 3.1**

***Note:*** The average grade includes passing grades (>1) from all passed courses, not just from a 2022/2023 academic
year.

Result example:

| studentid  | firstname | lastname | courseid |
|------------|-----------|----------|----------|
| 0555000646 | Iva       | Kolar    | 17       |
| 0555000646 | Iva       | Kolar    | 13       |
| 0555000651 | Ante      | Car      | 5        |
| ...        | ...       | ...      | ...      |

*For the course with id 17, Iva Kolar obtained grade 1 in the academic year 2022/2023, moreover, in the same academic
year, there is at least one other course (different from the course with id 17) from which she obtained the same grade.
Also, her total grade average is greater than 3.1 (the task does not require to print the average).*

*Check column mode: 4. PERMISSIVE: try 3 (to match by names); if not - try 2 (use column order).*

[Problem solution](task09.sql)

---

## Task 10

For the given relational schema `STUDGPA={firstname, lastname, studentid, totalects}` write a command to create the
relation `studgpa(STUDGPA)`. Data types should be as follows:

- `firstname`, `lastname` - `VARCHAR(25)`
- `studentid` - `VARCHAR(10)`
- `totalects` - `NUMERIC(4, 1)` (the total number of ECTS points achieved by a student in passing the course)

Insert into the `studgpa` relation students whose total number of ECTS points achieved by passing the exam is strictly
greater than 80 (The sum includes only exams that have been passed).

*Check column mode: 4. PERMISSIVE: try 3 (to match by names); if not - try 2 (use column order).*

[Problem solution](task10.sql)

---

## Task 11

Set teacher Mirko Kasun to all course groups that were assigned to teacher Klementina Lapaine.

General comment: Multiple SQL commands can be separated by ";".

*Check column mode: 4. PERMISSIVE: try 3 (to match by names); if not - try 2 (use column order).*

[Problem solution](task11.sql)

---

## Task 12

Print last name and first name of teachers who are employed in organizational units whose name is shorter than the name
of the directly superior organizational unit. In addition to the last name and the first name of the teacher, print also
the name of the organizational unit in which he/she is employed. Do not print the tuples for teachers who stopped
working (are no longer employed). Sort the records alphabetically by the name of the organizational unit, and by the
last and first name of the teacher.

*Check column mode: 4. PERMISSIVE: try 3 (to match by names); if not - try 2 (use column order).*

[Problem solution](task12.sql)

---

